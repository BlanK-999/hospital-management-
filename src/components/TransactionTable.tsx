import '../styles/TransactionTable.css'

interface TransactionData {
  id: string
  timestamp: string
  medicineName: string
  medicineType: string
  batchId: string
  type: 'Check-in' | 'Check-out'
  quantity: number
  department: string
  pharmacist: string
  pharmacistInitials: string
  status: 'Completed' | 'Pending' | 'Cancelled'
}

interface Props {
  transactions: TransactionData[]
}

const getMedicineIcon = (medicineType: string) => {
  switch (medicineType.toLowerCase()) {
    case 'antibiotic':
      return (
        <svg width="15" height="15" viewBox="0 0 15 15" fill="none">
          <path d="M4.6875 15C3.38194 15 2.27431 14.5451 1.36458 13.6354C0.454861 12.7257 0 11.6181 0 10.3125C0 9.6875 0.118056 9.09028 0.354167 8.52083C0.590278 7.95139 0.930556 7.44444 1.375 7L7 1.375C7.44444 0.930556 7.95139 0.590278 8.52083 0.354167C9.09028 0.118056 9.6875 0 10.3125 0C11.6181 0 12.7257 0.454861 13.6354 1.36458C14.5451 2.27431 15 3.38194 15 4.6875C15 5.3125 14.8819 5.90972 14.6458 6.47917C14.4097 7.04861 14.0694 7.55556 13.625 8L8 13.625C7.55556 14.0694 7.04861 14.4097 6.47917 14.6458C5.90972 14.8819 5.3125 15 4.6875 15ZM10.2292 9.04167L12.4583 6.83333C12.7361 6.55556 12.9514 6.22917 13.1042 5.85417C13.2569 5.47917 13.3333 5.09028 13.3333 4.6875C13.3333 3.85417 13.0382 3.14236 12.4479 2.55208C11.8576 1.96181 11.1458 1.66667 10.3125 1.66667C9.90972 1.66667 9.52083 1.74306 9.14583 1.89583C8.77083 2.04861 8.44444 2.26389 8.16667 2.54167L5.95833 4.77083L10.2292 9.04167ZM4.6875 13.3333C5.09028 13.3333 5.47917 13.2569 5.85417 13.1042C6.22917 12.9514 6.55556 12.7361 6.83333 12.4583L9.04167 10.2292L4.77083 5.95833L2.54167 8.16667C2.26389 8.44444 2.04861 8.77083 1.89583 9.14583C1.74306 9.52083 1.66667 9.90972 1.66667 10.3125C1.66667 11.1458 1.96181 11.8576 2.55208 12.4479C3.14236 13.0382 3.85417 13.3333 4.6875 13.3333Z" fill="#2563EB"/>
        </svg>
      )
    case 'analgesic':
      return (
        <svg width="16" height="18" viewBox="0 0 16 18" fill="none">
          <path d="M5 17.0833L3.33333 15.8333V12.5H2.5C2.04167 12.5 1.64931 12.3368 1.32292 12.0104C0.996528 11.684 0.833333 11.2917 0.833333 10.8333V4.58333C0.597222 4.58333 0.399306 4.50347 0.239583 4.34375C0.0798611 4.18403 0 3.98611 0 3.75C0 3.51389 0.0798611 3.31597 0.239583 3.15625C0.399306 2.99653 0.597222 2.91667 0.833333 2.91667H3.33333V1.66667H2.91667C2.68056 1.66667 2.48264 1.58681 2.32292 1.42708C2.16319 1.26736 2.08333 1.06944 2.08333 0.833333C2.08333 0.597222 2.16319 0.399306 2.32292 0.239583C2.48264 0.0798611 2.68056 0 2.91667 0H5.41667C5.65278 0 5.85069 0.0798611 6.01042 0.239583C6.17014 0.399306 6.25 0.597222 6.25 0.833333C6.25 1.06944 6.17014 1.26736 6.01042 1.42708C5.85069 1.58681 5.65278 1.66667 5.41667 1.66667H5V2.91667H7.5C7.73611 2.91667 7.93403 2.99653 8.09375 3.15625C8.25347 3.31597 8.33333 3.51389 8.33333 3.75C8.33333 3.98611 8.25347 4.18403 8.09375 4.34375C7.93403 4.50347 7.73611 4.58333 7.5 4.58333V10.8333C7.5 11.2917 7.33681 11.684 7.01042 12.0104C6.68403 12.3368 6.29167 12.5 5.83333 12.5H5V17.0833ZM2.5 10.8333H5.83333V9.58333H4.375C4.20833 9.58333 4.0625 9.52083 3.9375 9.39583C3.8125 9.27083 3.75 9.125 3.75 8.95833C3.75 8.79167 3.8125 8.64583 3.9375 8.52083C4.0625 8.39583 4.20833 8.33333 4.375 8.33333H5.83333V7.08333H4.375C4.20833 7.08333 4.0625 7.02083 3.9375 6.89583C3.8125 6.77083 3.75 6.625 3.75 6.45833C3.75 6.29167 3.8125 6.14583 3.9375 6.02083C4.0625 5.89583 4.20833 5.83333 4.375 5.83333H5.83333V4.58333H2.5V10.8333ZM10.8333 16.6667C10.375 16.6667 9.98264 16.5035 9.65625 16.1771C9.32986 15.8507 9.16667 15.4583 9.16667 15V9.58333C9.16667 9.18056 9.23611 8.84722 9.375 8.58333C9.51389 8.31944 9.65972 8.09028 9.8125 7.89583C9.96528 7.70139 10.1042 7.54514 10.2292 7.42708C10.3542 7.30903 10.4167 7.19444 10.4167 7.08333V6.66667C10.1806 6.66667 9.98264 6.58681 9.82292 6.42708C9.66319 6.26736 9.58333 6.06944 9.58333 5.83333C9.58333 5.59722 9.66319 5.39931 9.82292 5.23958C9.98264 5.07986 10.1806 5 10.4167 5H14.5833C14.8194 5 15.0174 5.07986 15.1771 5.23958C15.3368 5.39931 15.4167 5.59722 15.4167 5.83333C15.4167 6.06944 15.3368 6.26736 15.1771 6.42708C15.0174 6.58681 14.8194 6.66667 14.5833 6.66667V7.08333C14.5833 7.19444 14.6528 7.31944 14.7917 7.45833C14.9306 7.59722 15.0833 7.76389 15.25 7.95833C15.4028 8.15278 15.5382 8.38194 15.6562 8.64583C15.7743 8.90972 15.8333 9.22222 15.8333 9.58333V15C15.8333 15.4583 15.6701 15.8507 15.3438 16.1771C15.0174 16.5035 14.625 16.6667 14.1667 16.6667H10.8333ZM10.8333 10H14.1667V9.58333C14.1667 9.375 14.1042 9.19444 13.9792 9.04167C13.8542 8.88889 13.7153 8.72222 13.5625 8.54167C13.4097 8.36111 13.2639 8.15972 13.125 7.9375C12.9861 7.71528 12.9167 7.43056 12.9167 7.08333V6.66667H12.0833V7.08333C12.0833 7.41667 12.0174 7.69444 11.8854 7.91667C11.7535 8.13889 11.6111 8.34028 11.4583 8.52083C11.3056 8.70139 11.1632 8.87153 11.0312 9.03125C10.8993 9.19097 10.8333 9.375 10.8333 9.58333V10ZM10.8333 12.5H14.1667V11.25H10.8333V12.5ZM10.8333 15H14.1667V13.75H10.8333V15ZM10.8333 12.5H14.1667H10.8333Z" fill="#4F46E5"/>
        </svg>
      )
    case 'antidiabetic':
      return (
        <svg width="17" height="19" viewBox="0 0 17 19" fill="none">
          <path d="M11.625 16.375L12.5833 15.4167L11.25 14.0833L10.2917 15.0417C10.0972 15.2361 10 15.4583 10 15.7083C10 15.9583 10.0972 16.1806 10.2917 16.375C10.4861 16.5694 10.7083 16.6667 10.9583 16.6667C11.2083 16.6667 11.4306 16.5694 11.625 16.375ZM13.75 14.25L14.7083 13.2917C14.9028 13.0972 15 12.875 15 12.625C15 12.375 14.9028 12.1528 14.7083 11.9583C14.5139 11.7639 14.2917 11.6667 14.0417 11.6667C13.7917 11.6667 13.5694 11.7639 13.375 11.9583L12.4167 12.9167L13.75 14.25ZM12.8125 17.5625C12.2986 18.0764 11.6806 18.3333 10.9583 18.3333C10.2361 18.3333 9.61806 18.0764 9.10417 17.5625C8.59028 17.0486 8.33333 16.4306 8.33333 15.7083C8.33333 14.9861 8.59028 14.3681 9.10417 13.8542L12.1875 10.7708C12.7014 10.2569 13.3194 10 14.0417 10C14.7639 10 15.3819 10.2569 15.8958 10.7708C16.4097 11.2847 16.6667 11.9028 16.6667 12.625C16.6667 13.3472 16.4097 13.9653 15.8958 14.4792L12.8125 17.5625ZM1.66667 15C1.66667 14.6111 1.66667 14.2257 1.66667 13.8438C1.66667 13.4618 1.66667 13.0764 1.66667 12.6875V9.58333C1.66667 9.38889 1.66667 9.19097 1.66667 8.98958C1.66667 8.78819 1.66667 8.59028 1.66667 8.39583V3.33333V15ZM1.66667 16.6667C1.20833 16.6667 0.815972 16.5035 0.489583 16.1771C0.163194 15.8507 0 15.4583 0 15V3.33333C0 2.875 0.163194 2.48264 0.489583 2.15625C0.815972 1.82986 1.20833 1.66667 1.66667 1.66667H5.16667C5.34722 1.16667 5.64931 0.763889 6.07292 0.458333C6.49653 0.152778 6.97222 0 7.5 0C8.02778 0 8.50347 0.152778 8.92708 0.458333C9.35069 0.763889 9.65278 1.16667 9.83333 1.66667H13.3333C13.7917 1.66667 14.184 1.82986 14.5104 2.15625C14.8368 2.48264 15 2.875 15 3.33333V8.4375C14.7222 8.36806 14.4444 8.33333 14.1667 8.33333C13.8889 8.33333 13.6111 8.35417 13.3333 8.39583V3.33333H1.66667V15H6.72917C6.6875 15.2778 6.66667 15.5556 6.66667 15.8333C6.66667 16.1111 6.70139 16.3889 6.77083 16.6667H1.66667ZM7.5 2.70833C7.68056 2.70833 7.82986 2.64931 7.94792 2.53125C8.06597 2.41319 8.125 2.26389 8.125 2.08333C8.125 1.90278 8.06597 1.75347 7.94792 1.63542C7.82986 1.51736 7.68056 1.45833 7.5 1.45833C7.31944 1.45833 7.17014 1.51736 7.05208 1.63542C6.93403 1.75347 6.875 1.90278 6.875 2.08333C6.875 2.26389 6.93403 2.41319 7.05208 2.53125C7.17014 2.64931 7.31944 2.70833 7.5 2.70833ZM3.33333 6.66667V5H11.6667V6.66667H3.33333ZM3.33333 10V8.33333H11.6667V9.04167C11.5556 9.11111 11.4479 9.19097 11.3438 9.28125C11.2396 9.37153 11.1319 9.47222 11.0208 9.58333L10.6042 10H3.33333ZM3.33333 13.3333V11.6667H8.9375L7.91667 12.6875C7.80556 12.7986 7.70486 12.9062 7.61458 13.0104C7.52431 13.1146 7.44444 13.2222 7.375 13.3333H3.33333Z" fill="#0D9488"/>
        </svg>
      )
    case 'statin':
      return (
        <svg width="17" height="15" viewBox="0 0 17 15" fill="none">
          <path d="M8.33333 15C8.08333 15 7.84375 14.9549 7.61458 14.8646C7.38542 14.7743 7.18056 14.6389 7 14.4583L1.41667 8.85417C0.930556 8.36806 0.572917 7.8125 0.34375 7.1875C0.114583 6.5625 0 5.90972 0 5.22917C0 3.79861 0.465278 2.56944 1.39583 1.54167C2.32639 0.513889 3.48611 0 4.875 0C5.54167 0 6.17014 0.131944 6.76042 0.395833C7.35069 0.659722 7.875 1.02778 8.33333 1.5C8.77778 1.02778 9.29514 0.659722 9.88542 0.395833C10.4757 0.131944 11.1042 0 11.7708 0C13.1597 0 14.3229 0.513889 15.2604 1.54167C16.1979 2.56944 16.6667 3.79167 16.6667 5.20833C16.6667 5.88889 16.5486 6.54167 16.3125 7.16667C16.0764 7.79167 15.7222 8.34722 15.25 8.83333L9.64583 14.4583C9.46528 14.6389 9.26389 14.7743 9.04167 14.8646C8.81944 14.9549 8.58333 15 8.33333 15ZM9.16667 4.16667C9.30556 4.16667 9.4375 4.20139 9.5625 4.27083C9.6875 4.34028 9.78472 4.43056 9.85417 4.54167L11.2708 6.66667H14.7292C14.8264 6.43056 14.8993 6.19097 14.9479 5.94792C14.9965 5.70486 15.0208 5.45833 15.0208 5.20833C14.9931 4.25 14.6736 3.42708 14.0625 2.73958C13.4514 2.05208 12.6875 1.70833 11.7708 1.70833C11.3403 1.70833 10.9271 1.79167 10.5312 1.95833C10.1354 2.125 9.79167 2.36806 9.5 2.6875L8.9375 3.29167C8.86806 3.375 8.77778 3.44097 8.66667 3.48958C8.55556 3.53819 8.44444 3.5625 8.33333 3.5625C8.22222 3.5625 8.11111 3.53819 8 3.48958C7.88889 3.44097 7.79167 3.375 7.70833 3.29167L7.14583 2.6875C6.85417 2.36806 6.51389 2.11806 6.125 1.9375C5.73611 1.75694 5.31944 1.66667 4.875 1.66667C3.95833 1.66667 3.19444 2.01736 2.58333 2.71875C1.97222 3.42014 1.66667 4.25 1.66667 5.20833C1.66667 5.45833 1.6875 5.70486 1.72917 5.94792C1.77083 6.19097 1.84028 6.43056 1.9375 6.66667H5.83333C5.97222 6.66667 6.10417 6.70139 6.22917 6.77083C6.35417 6.84028 6.45139 6.93056 6.52083 7.04167L7.25 8.125L8.375 4.75C8.43056 4.58333 8.53125 4.44444 8.67708 4.33333C8.82292 4.22222 8.98611 4.16667 9.16667 4.16667ZM9.41667 6.875L8.29167 10.25C8.23611 10.4167 8.13194 10.5556 7.97917 10.6667C7.82639 10.7778 7.65972 10.8333 7.47917 10.8333C7.34028 10.8333 7.20833 10.7986 7.08333 10.7292C6.95833 10.6597 6.86111 10.5694 6.79167 10.4583L5.375 8.33333H3.25L8.1875 13.2708C8.21528 13.2986 8.23958 13.316 8.26042 13.3229C8.28125 13.3299 8.30556 13.3333 8.33333 13.3333C8.36111 13.3333 8.38542 13.3299 8.40625 13.3229C8.42708 13.316 8.45139 13.2986 8.47917 13.2708L13.3958 8.33333H10.8333C10.6944 8.33333 10.5625 8.29861 10.4375 8.22917C10.3125 8.15972 10.2083 8.06944 10.125 7.95833L9.41667 6.875Z" fill="#E11D48"/>
        </svg>
      )
    case 'calcium channel blocker':
      return (
        <svg width="16" height="15" viewBox="0 0 16 15" fill="none">
          <path d="M1.69042 15C0.982087 15 0.478615 14.684 0.180004 14.0521C-0.118607 13.4201 -0.0456906 12.8333 0.398754 12.2917L5.02375 6.66667V1.66667H4.19042C3.95431 1.66667 3.75639 1.58681 3.59667 1.42708C3.43695 1.26736 3.35709 1.06944 3.35709 0.833333C3.35709 0.597222 3.43695 0.399306 3.59667 0.239583C3.75639 0.0798611 3.95431 0 4.19042 0H10.8571C11.0932 0 11.2911 0.0798611 11.4508 0.239583C11.6106 0.399306 11.6904 0.597222 11.6904 0.833333C11.6904 1.06944 11.6106 1.26736 11.4508 1.42708C11.2911 1.58681 11.0932 1.66667 10.8571 1.66667H10.0238V6.66667L14.6488 12.2917C15.0932 12.8333 15.1661 13.4201 14.8675 14.0521C14.5689 14.684 14.0654 15 13.3571 15H1.69042ZM1.69042 13.3333H13.3571L8.35709 7.25V1.66667H6.69042V7.25L1.69042 13.3333Z" fill="#0891B2"/>
        </svg>
      )
    default:
      return null
  }
}

export default function TransactionTable({ transactions }: Props) {
  const totalResults = 1248

  return (
    <div className="table-container">
      <div className="table-wrapper">
        <table className="transaction-table">
          <thead>
            <tr className="table-header-row">
              <th>Timestamp</th>
              <th>Medicine</th>
              <th>Batch ID</th>
              <th>Type</th>
              <th>Quantity</th>
              <th>Department</th>
              <th>Pharmacist</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            {transactions.map((tx) => (
              <tr key={tx.id} className="table-body-row">
                <td className="cell-timestamp">
                  <span>{tx.timestamp}</span>
                </td>
                <td className="cell-medicine">
                  <div className="medicine-info">
                    <div className="medicine-icon">{getMedicineIcon(tx.medicineType)}</div>
                    <div className="medicine-details">
                      <div className="medicine-name">{tx.medicineName}</div>
                      <div className="medicine-type">{tx.medicineType}</div>
                    </div>
                  </div>
                </td>
                <td className="cell-batch-id">
                  <span>{tx.batchId}</span>
                </td>
                <td className="cell-type">
                  <span className={`type-badge ${tx.type.toLowerCase()}`}>
                    {tx.type}
                  </span>
                </td>
                <td className={`cell-quantity ${tx.quantity > 0 ? 'positive' : 'negative'}`}>
                  <span>{tx.quantity > 0 ? '+' : ''}{tx.quantity}</span>
                </td>
                <td className="cell-department">
                  <span>{tx.department}</span>
                </td>
                <td className="cell-pharmacist">
                  <div className="pharmacist-info">
                    <div className="pharmacist-avatar">{tx.pharmacistInitials}</div>
                    <span>{tx.pharmacist}</span>
                  </div>
                </td>
                <td className="cell-status">
                  <span className={`status-badge ${tx.status.toLowerCase()}`}>
                    {tx.status}
                  </span>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>

      <div className="table-footer">
        <div className="pagination-info">
          <span>
            Showing <strong>1</strong> to <strong>{Math.min(transactions.length, 6)}</strong> of{' '}
            <strong>{totalResults}</strong> results
          </span>
        </div>

        <div className="pagination-controls">
          <button className="pagination-btn prev" disabled>
            <svg width="7" height="10" viewBox="0 0 7 10" fill="none">
              <path d="M5 10L0 5L5 0L6.16667 1.16667L2.33333 5L6.16667 8.83333L5 10Z" fill="currentColor"/>
            </svg>
          </button>
          <button className="pagination-btn active">1</button>
          <button className="pagination-btn">2</button>
          <button className="pagination-btn">3</button>
          <span className="pagination-ellipsis">...</span>
          <button className="pagination-btn">12</button>
          <button className="pagination-btn next">
            <svg width="7" height="10" viewBox="0 0 7 10" fill="none">
              <path d="M3.83333 5L0 1.16667L1.16667 0L6.16667 5L1.16667 10L0 8.83333L3.83333 5Z" fill="currentColor"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
  )
}
